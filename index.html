<!--
  Main page, shows contacts; default page if logged in already
  If enter clicked in search bar, or button click, searches for contacts matching input string and displays them
  If settings button clicked, shows a sidebar (same page, uses JS)
    If logout button clicked, logs user out and sends to auth screen
    If update profile clicked, shows a modal dialog (same page, uses JS)
  If new contact button clicked, shows a modal dialog (same page, uses JS)
-->
<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript" src="js/logout.js"></script>
  <script type="text/javascript" src="js/common.js"></script>
  <script type="text/javascript" src="js/main.js" defer></script>
  <link rel="stylesheet" href="css/main.css">
  <title>PCM - My Contacts</title>
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">

  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() 
    {
      readCookie();
    }, false);
  </script>
</head>
<body id="newBody">
  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" onclick="openUpdateProfileModal()" id="myBtn">Update profile</a>
    <a href="javascript:void(0)" onclick="doLogout()" id="myBtn2">Log out</a>
  </div>

  <div id="main">
    <span style="font-size:100px;cursor:pointer" onclick="toggleNav()">&#9881;</span>
    <span style="font-size:100px;cursor:pointer" onclick="openCreateContactModal()">&plus;</span>
    <span id="userName"></span><br/>
    <span id="title">My Contacts</span>
    <div id="contactDiv">
      <!-- TODO: Optionally add a button to clear the search box -->
      <input type="text" id="contactString" class="searchInput" placeholder="Search Contacts..." /><br />
      <!-- TODO: Add dropdown for limit of # contacts to search -->
      <button type="button" id="searchContactsButton" class="searchButton" onclick="doSearch();">Search</button>

      <br/><br/>
      <span id="searchError"></span>
      <span id="searchResult">
        <div id="individualContactDiv"></div>
      </span>
    </div>
  </div>

  <!-- Create contact Modal -->
  <div id="createContactModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <span class="closeCreateContact">&times;</span>
      <p>This window shows all the options for creating a contact.</p><br>
      <p>Try to share code between here and the edit contact modal (in contact.html).</p>
      <input type="text" id="firstName" class="na" placeholder="First" /><br />
      <input type="text" id="lastName" class="na" placeholder="Last" /><br />
      <input type="tel" id="phone" class="na" placeholder="Phone number" /><br />
      <input type="text" id="email" class="na" placeholder="Email" /><br />
      <button id="createContactButton" onclick="doCreateContact();">Create contact</button><br/>
      <span id="createResult"></span>
    </div>
  </div>

  <!-- Update profile Modal -->
  <div id="updateProfileModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <span class="closeUpdateProfile">&times;</span>
      <p>This window shows all the options for editing the profile.</p>
      <button id="confirmBtn">Confirm update</button>
    </div>
  </div>
</body>
</html>
